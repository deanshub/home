networks:
  caddy:
    external: true

services:
  seerr:
    image: ghcr.io/seerr-team/seerr:latest
    init: true
    container_name: seerr
    user: "1000:1000"
    restart: unless-stopped
    networks:
      - caddy
    ports:
      - "5056:5056"
    labels:
      url: "https://seerr.{{ domain }}"
      title: "Seerr"
      category: "media"
      color: "blue"
    environment:
      - TZ=Asia/Jerusalem
      - PORT=5056
    volumes:
      - /media/external/configs/seerr:/app/config
    healthcheck:
      test: wget --no-verbose --tries=1 --spider http://localhost:5056/api/v1/status || exit 1
      start_period: 20s
      timeout: 3s
      interval: 15s
      retries: 3
